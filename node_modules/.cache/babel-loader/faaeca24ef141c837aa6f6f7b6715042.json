{"remainingRequest":"/Users/anttu/Documents/Git/Vue_NodeNote/node_modules/babel-loader/lib/index.js!/Users/anttu/Documents/Git/Vue_NodeNote/node_modules/eslint-loader/index.js??ref--13-0!/Users/anttu/Documents/Git/Vue_NodeNote/src/router.js","dependencies":[{"path":"/Users/anttu/Documents/Git/Vue_NodeNote/src/router.js","mtime":1548830815934},{"path":"/Users/anttu/Documents/Git/Vue_NodeNote/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anttu/Documents/Git/Vue_NodeNote/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/anttu/Documents/Git/Vue_NodeNote/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from '@/views/Home';\nimport Login from '@/views/Login';\nVue.use(Router);\nvar router = new Router({\n  routes: [{\n    path: \"*\",\n    redirect: \"/login\"\n  }, {\n    path: \"/\",\n    redirect: \"/login\"\n  }, {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login\n  }, {\n    path: \"/home\",\n    name: \"Home\",\n    component: Home,\n    meta: {\n      requiresAuth: true\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  var currentUser = firebase.auth().currentUser;\n  var requiresAuth = to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  });\n  if (requiresAuth && !currentUser) next('login');else if (!requiresAuth && currentUser) next('home');else next();\n});\nexport default router;",{"version":3,"sources":["/Users/anttu/Documents/Git/Vue_NodeNote/src/router.js"],"names":["firebase","Vue","Router","Home","Login","use","router","routes","path","redirect","name","component","meta","requiresAuth","beforeEach","to","from","next","currentUser","auth","matched","some","record"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,MAAR;AAEA,IAAMI,MAAM,GAAG,IAAIJ,MAAJ,CAAW;AACxBK,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GADM,EAKN;AACED,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GALM,EASN;AACED,IAAAA,IAAI,EAAE,QADR;AAEEE,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAEP;AAHb,GATM,EAcN;AACEI,IAAAA,IAAI,EAAE,OADR;AAEEE,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAER,IAHb;AAIES,IAAAA,IAAI,EAAE;AACJC,MAAAA,YAAY,EAAE;AADV;AAJR,GAdM;AADgB,CAAX,CAAf;AA0BAP,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,WAAW,GAAGlB,QAAQ,CAACmB,IAAT,GAAgBD,WAApC;AACA,MAAML,YAAY,GAAGE,EAAE,CAACK,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACV,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAArB;AAEA,MAAIA,YAAY,IAAI,CAACK,WAArB,EAAkCD,IAAI,CAAC,OAAD,CAAJ,CAAlC,KACK,IAAI,CAACJ,YAAD,IAAiBK,WAArB,EAAkCD,IAAI,CAAC,MAAD,CAAJ,CAAlC,KACAA,IAAI;AACV,CAPD;AASA,eAAeX,MAAf","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport Vue from 'vue';\nimport Router from 'vue-router';\n\nimport Home from '@/views/Home';\nimport Login from '@/views/Login';\n\nVue.use(Router);\n\nconst router = new Router({\n  routes: [\n    {\n      path: \"*\",\n      redirect: \"/login\",\n    },\n    {\n      path: \"/\",\n      redirect: \"/login\",\n    },\n    {\n      path: \"/login\",\n      name: \"Login\",\n      component: Login\n    },\n    {\n      path: \"/home\",\n      name: \"Home\",\n      component: Home,\n      meta: {\n        requiresAuth: true\n      }\n    },\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  const currentUser = firebase.auth().currentUser;\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n\n  if (requiresAuth && !currentUser) next('login');\n  else if (!requiresAuth && currentUser) next('home');\n  else next();\n});\n\nexport default router;"]}]}